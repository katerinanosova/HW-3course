{"version":3,"file":"bundle.js","mappings":"mBAAO,MAAMA,EAAa,KCUbC,EAAQ,CACnB,CACEC,KAAM,SACNC,KAAM,MACNC,MAAO,yBAET,CACEF,KAAM,SACNC,KAAM,OACNC,MAAO,0BAET,CACEF,KAAM,SACNC,KAAM,QACNC,MAAO,2BAET,CACEF,KAAM,SACNC,KAAM,OACNC,MAAO,0BAET,CACEF,KAAM,SACNC,KAAM,KACNC,MAAO,wBAET,CACEF,KAAM,SACNC,KAAM,IACNC,MAAO,uBAET,CACEF,KAAM,SACNC,KAAM,IACNC,MAAO,uBAET,CACEF,KAAM,SACNC,KAAM,IACNC,MAAO,uBAET,CACEF,KAAM,SACNC,KAAM,IACNC,MAAO,uBAET,CACEF,KAAM,WACNC,KAAM,MACNC,MAAO,2BAET,CACEF,KAAM,WACNC,KAAM,OACNC,MAAO,4BAET,CACEF,KAAM,WACNC,KAAM,QACNC,MAAO,6BAET,CACEF,KAAM,WACNC,KAAM,OACNC,MAAO,4BAET,CACEF,KAAM,WACNC,KAAM,KACNC,MAAO,0BAET,CACEF,KAAM,WACNC,KAAM,IACNC,MAAO,yBAET,CACEF,KAAM,WACNC,KAAM,IACNC,MAAO,yBAET,CACEF,KAAM,WACNC,KAAM,IACNC,MAAO,yBAET,CACEF,KAAM,WACNC,KAAM,IACNC,MAAO,yBAET,CACEF,KAAM,SACNC,KAAM,MACNC,MAAO,yBAET,CACEF,KAAM,SACNC,KAAM,OACNC,MAAO,0BAET,CACEF,KAAM,SACNC,KAAM,QACNC,MAAO,2BAET,CACEF,KAAM,SACNC,KAAM,OACNC,MAAO,0BAET,CACEF,KAAM,SACNC,KAAM,KACNC,MAAO,wBAET,CACEF,KAAM,SACNC,KAAM,IACNC,MAAO,uBAET,CACEF,KAAM,SACNC,KAAM,IACNC,MAAO,uBAET,CACEF,KAAM,SACNC,KAAM,IACNC,MAAO,uBAET,CACEF,KAAM,SACNC,KAAM,IACNC,MAAO,uBAET,CACEF,KAAM,QACNC,KAAM,MACNC,MAAO,wBAET,CACEF,KAAM,QACNC,KAAM,OACNC,MAAO,yBAET,CACEF,KAAM,QACNC,KAAM,QACNC,MAAO,0BAET,CACEF,KAAM,QACNC,KAAM,OACNC,MAAO,yBAET,CACEF,KAAM,QACNC,KAAM,KACNC,MAAO,uBAET,CACEF,KAAM,QACNC,KAAM,IACNC,MAAO,sBAET,CACEF,KAAM,QACNC,KAAM,IACNC,MAAO,sBAET,CACEF,KAAM,QACNC,KAAM,IACNC,MAAO,sBAET,CACEF,KAAM,QACNC,KAAM,IACNC,MAAO,uBChLJ,SAASC,EAAMC,EAAW,KAC/B,OAAO,IAAIC,SAASC,IAClBC,YAAW,KACTD,GAAS,GACRF,EAAS,GAEhB,CCTO,IAAII,EAAOV,EACPW,EAAc,GAEzB,MAAMC,EAAQC,SAASC,cAAc,QAE/BC,EAAY,KAChB,GAAIL,IAASV,EAAY,CACvB,MAAMgB,EAAgB,irBActBJ,EAAMK,UAAYD,EAElBH,SAASK,eAAe,eAAeC,iBAAiB,SAAS,KAC/D,MAAMC,EAAQP,SAASQ,kBAAkB,aACzC,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAMG,OAAQD,IAC5BF,EAAME,GAAGE,SAA8B,MAAnBJ,EAAME,GAAGG,OAC/Bf,EHpCkB,EGqClBK,KACSK,EAAME,GAAGE,SAA8B,MAAnBJ,EAAME,GAAGG,OACtCf,EHtCkB,EGuClBK,KACSK,EAAME,GAAGE,SAA8B,MAAnBJ,EAAME,GAAGG,QACtCf,EHxCkB,EGyClBK,IAEJ,GAEJ,CAEA,GAAIL,IAASV,EAAY,CACvB,MAAM0B,EAAqB,8jBAqB3Bd,EAAMK,UAAYS,EAElBb,SAASK,eAAe,iBAAiBC,iBAAiB,SAAS,KACjET,EAAOV,EACPe,GAAW,IAGbY,GACF,GAEFZ,IAEA,MAAMY,EAAc,KAClB,IAAIC,EFrFC,UAAsB,KAAElB,IAC7B,IAAImB,EAAc,GAElB,IAAK,IAAIP,EAAI,EAAGA,EAAW,EAAPZ,EAAUY,IAC5BO,EAAYC,KAAK7B,EAAM8B,KAAKC,MAAMD,KAAKE,SAAWhC,EAAMsB,UAG1D,OAAOM,EAAYK,OAAOL,GAAaM,MAAK,IAAMJ,KAAKE,SAAW,IACpE,CE6EiBG,CAAa,CAAE1B,SAC1B2B,GAAe,EAEnB,MAAMC,EAAa,IACCV,EACfW,KAAI,CAACC,EAAMC,IACH,6BACWA,2CACZJ,EAAe,aAAaG,EAAKpC,uBAAyB,sBAGjEsC,KAAK,IAIV7B,SAASC,cAAc,eAAeG,UAAYqB,IAElDjC,EAAM,KAAMsC,MAAK,MACM,IAAjBN,IACFA,GAAe,EACfxB,SAASC,cAAc,eAAeG,UAAYqB,IAClDM,EAAsBhB,GAExB,GACA,EAGEgB,EAAyBhB,IAC7B,MAAMiB,EAAehC,SAASiC,iBAAiB,SAE/C,IAAK,MAAMC,KAAeF,EACxBE,EAAY5B,iBAAiB,SAAS,KACpC,MAAMsB,EAAQM,EAAYC,QAAQP,MAClCM,EAAY9B,UAAY,uBACVW,EAASa,GAAOrC,uBAE9BO,EAAYmB,KAAKF,EAASa,IACtB9B,EAAYY,OAAS,IACnBZ,EAAY,KAAOA,EAAY,IACjCN,EAAM,KAAKsC,MAAK,KACdM,MAAM,cAAc,IAEtBtC,EAAc,KAEdN,EAAM,KAAKsC,MAAK,KACdM,MAAM,eAAe,IAEvBtC,EAAc,IAElB,GAEJ,C","sources":["webpack://hw-3course/./pages.js","webpack://hw-3course/./cards.js","webpack://hw-3course/./timer.js","webpack://hw-3course/./main.js"],"sourcesContent":["export const START_PAGE = null;\r\nexport const GAME_LEVEL_1 = 1;\r\nexport const GAME_LEVEL_2 = 2;\r\nexport const GAME_LEVEL_3 = 3;\r\n","export function shuffleCards({ page }) {\r\n  let chosenCards = [];\r\n\r\n  for (let i = 0; i < page * 3; i++) {\r\n    chosenCards.push(cards[Math.round(Math.random() * cards.length)]);\r\n  }\r\n\r\n  return chosenCards.concat(chosenCards).sort(() => Math.random() - 0.5);\r\n}\r\n\r\nexport const cards = [\r\n  {\r\n    suit: 'spades',\r\n    rank: 'ace',\r\n    image: 'static/ace_spades.png',\r\n  },\r\n  {\r\n    suit: 'spades',\r\n    rank: 'king',\r\n    image: 'static/king_spades.png',\r\n  },\r\n  {\r\n    suit: 'spades',\r\n    rank: 'queen',\r\n    image: 'static/queen_spades.png',\r\n  },\r\n  {\r\n    suit: 'spades',\r\n    rank: 'jack',\r\n    image: 'static/jack_spades.png',\r\n  },\r\n  {\r\n    suit: 'spades',\r\n    rank: '10',\r\n    image: 'static/10_spades.png',\r\n  },\r\n  {\r\n    suit: 'spades',\r\n    rank: '9',\r\n    image: 'static/9_spades.png',\r\n  },\r\n  {\r\n    suit: 'spades',\r\n    rank: '8',\r\n    image: 'static/8_spades.png',\r\n  },\r\n  {\r\n    suit: 'spades',\r\n    rank: '7',\r\n    image: 'static/7_spades.png',\r\n  },\r\n  {\r\n    suit: 'spades',\r\n    rank: '6',\r\n    image: 'static/6_spades.png',\r\n  },\r\n  {\r\n    suit: 'diamonds',\r\n    rank: 'ace',\r\n    image: 'static/ace_diamonds.png',\r\n  },\r\n  {\r\n    suit: 'diamonds',\r\n    rank: 'king',\r\n    image: 'static/king_diamonds.png',\r\n  },\r\n  {\r\n    suit: 'diamonds',\r\n    rank: 'queen',\r\n    image: 'static/queen_diamonds.png',\r\n  },\r\n  {\r\n    suit: 'diamonds',\r\n    rank: 'jack',\r\n    image: 'static/jack_diamonds.png',\r\n  },\r\n  {\r\n    suit: 'diamonds',\r\n    rank: '10',\r\n    image: 'static/10_diamonds.png',\r\n  },\r\n  {\r\n    suit: 'diamonds',\r\n    rank: '9',\r\n    image: 'static/9_diamonds.png',\r\n  },\r\n  {\r\n    suit: 'diamonds',\r\n    rank: '8',\r\n    image: 'static/8_diamonds.png',\r\n  },\r\n  {\r\n    suit: 'diamonds',\r\n    rank: '7',\r\n    image: 'static/7_diamonds.png',\r\n  },\r\n  {\r\n    suit: 'diamonds',\r\n    rank: '6',\r\n    image: 'static/6_diamonds.png',\r\n  },\r\n  {\r\n    suit: 'hearts',\r\n    rank: 'ace',\r\n    image: 'static/ace_hearts.png',\r\n  },\r\n  {\r\n    suit: 'hearts',\r\n    rank: 'king',\r\n    image: 'static/king_hearts.png',\r\n  },\r\n  {\r\n    suit: 'hearts',\r\n    rank: 'queen',\r\n    image: 'static/queen_hearts.png',\r\n  },\r\n  {\r\n    suit: 'hearts',\r\n    rank: 'jack',\r\n    image: 'static/jack_hearts.png',\r\n  },\r\n  {\r\n    suit: 'hearts',\r\n    rank: '10',\r\n    image: 'static/10_hearts.png',\r\n  },\r\n  {\r\n    suit: 'hearts',\r\n    rank: '9',\r\n    image: 'static/9_hearts.png',\r\n  },\r\n  {\r\n    suit: 'hearts',\r\n    rank: '8',\r\n    image: 'static/8_hearts.png',\r\n  },\r\n  {\r\n    suit: 'hearts',\r\n    rank: '7',\r\n    image: 'static/7_hearts.png',\r\n  },\r\n  {\r\n    suit: 'hearts',\r\n    rank: '6',\r\n    image: 'static/6_hearts.png',\r\n  },\r\n  {\r\n    suit: 'clubs',\r\n    rank: 'ace',\r\n    image: 'static/ace_clubs.png',\r\n  },\r\n  {\r\n    suit: 'clubs',\r\n    rank: 'king',\r\n    image: 'static/king_clubs.png',\r\n  },\r\n  {\r\n    suit: 'clubs',\r\n    rank: 'queen',\r\n    image: 'static/queen_clubs.png',\r\n  },\r\n  {\r\n    suit: 'clubs',\r\n    rank: 'jack',\r\n    image: 'static/jack_clubs.png',\r\n  },\r\n  {\r\n    suit: 'clubs',\r\n    rank: '10',\r\n    image: 'static/10_clubs.png',\r\n  },\r\n  {\r\n    suit: 'clubs',\r\n    rank: '9',\r\n    image: 'static/9_clubs.png',\r\n  },\r\n  {\r\n    suit: 'clubs',\r\n    rank: '8',\r\n    image: 'static/8_clubs.png',\r\n  },\r\n  {\r\n    suit: 'clubs',\r\n    rank: '7',\r\n    image: 'static/7_clubs.png',\r\n  },\r\n  {\r\n    suit: 'clubs',\r\n    rank: '6',\r\n    image: 'static/6_clubs.png',\r\n  },\r\n];\r\n","export function getTimer({ time, action }) {\r\n  const interval = setInterval(() => {\r\n    time -= 1;\r\n    // console.log(time);\r\n  }, 1000);\r\n\r\n  setTimeout(() => {\r\n    clearInterval(interval);\r\n    console.log('всё');\r\n    return action;\r\n  }, time * 1000);\r\n}\r\n\r\nexport function delay(interval = 300) {\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => {\r\n      resolve();\r\n    }, interval);\r\n  });\r\n}\r\n","import {\r\n  START_PAGE,\r\n  GAME_LEVEL_1,\r\n  GAME_LEVEL_2,\r\n  GAME_LEVEL_3,\r\n} from './pages.js';\r\nimport { shuffleCards } from './cards.js';\r\nimport { delay } from './timer.js';\r\nimport './styles.css';\r\n\r\nexport let page = START_PAGE;\r\nexport let resultArray = [];\r\n\r\nconst appEl = document.querySelector('.app');\r\n\r\nconst renderApp = () => {\r\n  if (page === START_PAGE) {\r\n    const startPageHtml = `\r\n            <form id=\"levelForm\" class=\"info-container\">\r\n            <h1 class=\"title\">Выбери сложность</h1>\r\n            <div class=\"levels-box\">\r\n                <input type=\"radio\" id=\"level1\" class=\"level\" value=\"1\" name=\"gameLevel\">\r\n                <label for=\"level1\">1</label>\r\n                <input type=\"radio\" id=\"level2\" class=\"level\" value=\"2\" name=\"gameLevel\">\r\n                <label for=\"level2\">2</label>\r\n                <input type=\"radio\" id=\"level3\" class=\"level\" value=\"3\" name=\"gameLevel\">\r\n                <label for=\"level3\">3</label>\r\n            </div>\r\n            <button type=\"submit\" id=\"startButton\" class=\"button\">Старт</button>\r\n            </form>`;\r\n\r\n    appEl.innerHTML = startPageHtml;\r\n\r\n    document.getElementById('startButton').addEventListener('click', () => {\r\n      const level = document.getElementsByName('gameLevel');\r\n      for (let i = 0; i < level.length; i++) {\r\n        if (level[i].checked && level[i].value === '1') {\r\n          page = GAME_LEVEL_1;\r\n          renderApp();\r\n        } else if (level[i].checked && level[i].value === '2') {\r\n          page = GAME_LEVEL_2;\r\n          renderApp();\r\n        } else if (level[i].checked && level[i].value === '3') {\r\n          page = GAME_LEVEL_3;\r\n          renderApp();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  if (page !== START_PAGE) {\r\n    const gamePageLevel1Html = `\r\n        <section class=\"app-game-page\">\r\n        <div class=\"header\">\r\n            <div class=\"timer\">\r\n                <div class=\"timer-text\">\r\n                    <p>min</p>\r\n                    <p>sek</p>\r\n                </div>\r\n                <div class=\"timer-count\">\r\n                    <p>00.00</p>\r\n                </div>\r\n            </div>\r\n            <button class=\"button\" id=\"restartButton\">Начать заново</button>\r\n        </div>\r\n        <div class=\"gameBody\">\r\n            <ul class=\"card-field\">\r\n\r\n            </ul>\r\n        </div>\r\n    </section>`;\r\n\r\n    appEl.innerHTML = gamePageLevel1Html;\r\n\r\n    document.getElementById('restartButton').addEventListener('click', () => {\r\n      page = START_PAGE;\r\n      renderApp();\r\n    });\r\n\r\n    renderCards();\r\n  }\r\n};\r\nrenderApp();\r\n\r\nconst renderCards = () => {\r\n  let newCards = shuffleCards({ page });\r\n  let isPreviewing = true;\r\n\r\n  const renderHtml = () => {\r\n    const cardsHtml = newCards\r\n      .map((card, index) => {\r\n        return `\r\n        <li data-index='${index}' class=\"card card-back\">\r\n            ${isPreviewing ? `<img src=\"${card.image}\" alt=\"\"></img>` : ''}\r\n        </li>`;\r\n      })\r\n      .join('');\r\n    return cardsHtml;\r\n  };\r\n\r\n  document.querySelector('.card-field').innerHTML = renderHtml();\r\n\r\n  delay(5000).then(() => {\r\n    if (isPreviewing === true) {\r\n      isPreviewing = false;\r\n      document.querySelector('.card-field').innerHTML = renderHtml();\r\n      initCardOpenListeners(newCards);\r\n      // console.log(resultArray);\r\n    }\r\n  });\r\n};\r\n\r\nconst initCardOpenListeners = (newCards) => {\r\n  const cardElements = document.querySelectorAll('.card');\r\n\r\n  for (const cardElement of cardElements) {\r\n    cardElement.addEventListener('click', () => {\r\n      const index = cardElement.dataset.index;\r\n      cardElement.innerHTML = `\r\n        <img src=\"${newCards[index].image}\" alt=\"\"></img>`;\r\n\r\n      resultArray.push(newCards[index]);\r\n      if (resultArray.length > 1) {\r\n        if (resultArray[0] === resultArray[1]) {\r\n          delay(500).then(() => {\r\n            alert('Вы выиграли');\r\n          });\r\n          resultArray = [];\r\n        } else {\r\n          delay(500).then(() => {\r\n            alert('Вы проиграли');\r\n          });\r\n          resultArray = [];\r\n        }\r\n      }\r\n    });\r\n  }\r\n};\r\n"],"names":["START_PAGE","cards","suit","rank","image","delay","interval","Promise","resolve","setTimeout","page","resultArray","appEl","document","querySelector","renderApp","startPageHtml","innerHTML","getElementById","addEventListener","level","getElementsByName","i","length","checked","value","gamePageLevel1Html","renderCards","newCards","chosenCards","push","Math","round","random","concat","sort","shuffleCards","isPreviewing","renderHtml","map","card","index","join","then","initCardOpenListeners","cardElements","querySelectorAll","cardElement","dataset","alert"],"sourceRoot":""}